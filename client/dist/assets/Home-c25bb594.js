import{j as e,r as i,a as s,F as m,L as f,b as g,c as N}from"./index-6a12e5f9.js";import{Y as b,F as S}from"./Footer-e05bf924.js";import{c as u}from"./createSvgIcon-58d8a4a8.js";import{N as A}from"./Navbar-cd22db2f.js";import"./apiCalls-6352b8c1.js";const C=u(e("path",{d:"M22 11h-4.17l3.24-3.24-1.41-1.42L15 11h-2V9l4.66-4.66-1.42-1.41L13 6.17V2h-2v4.17L7.76 2.93 6.34 4.34 11 9v2H9L4.34 6.34 2.93 7.76 6.17 11H2v2h4.17l-3.24 3.24 1.41 1.42L9 13h2v2l-4.66 4.66 1.42 1.41L11 17.83V22h2v-4.17l3.24 3.24 1.42-1.41L13 15v-2h2l4.66 4.66 1.41-1.42L17.83 13H22z"}),"AcUnit"),z=u(e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),y=u(e("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNewOutlined"),M=u(e("path",{d:"M17.51 3.87 15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"}),"ArrowBackIosOutlined"),w=u(e("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIosOutlined"),I=u(e("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined"),O=u(e("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined"),H=u(e("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z"}),"LiveTv"),T=u(e("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People"),L=u(e("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),x=u(e("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm0 12-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z"}),"ThumbDownOutlined"),F=u(e("path",{d:"M21 8h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2zm0 4-3 7H9V9l4.34-4.34L12.23 10H21v2zM1 9h4v12H1z"}),"ThumbUpAltOutlined");const V=({type:c,setGenre:n})=>{const[t,l]=i.useState({img:"",imgTitle:"",desc:""}),[p,a]=i.useState(Date.now()),[d,v]=i.useState({}),h=async()=>{try{const r=await g.get("https://all-anime.netlify.app/api//movies/find/"+t._id,{headers:{token:"king "+JSON.parse(localStorage.getItem("user")).accessToken}});v(r.data)}catch(r){console.log(r)}},o=async()=>{try{const r=await g.get(`https://all-anime.netlify.app/api//movies/random?type=${c}`,{headers:{token:"king "+JSON.parse(localStorage.getItem("user")).accessToken}});l(r.data[0]),t._id&&h()}catch(r){console.log(r)}};return i.useEffect(()=>{o();const r=setInterval(()=>a(Date.now()),5e3);return()=>{clearInterval(r)}},[c,p]),s("div",{className:"Hero",children:[c&&s("div",{className:"category",children:[e("span",{children:c==="movie"?"Movies":"Series"}),s("select",{name:"genre",id:"genre",onChange:r=>n(r.target.value),children:[e("option",{children:"Genres"}),e("option",{value:"Adventure",children:"Adventure"}),e("option",{value:"Action",children:"Action"}),e("option",{value:"Shonen",children:"Shonen"}),e("option",{value:"Drama",children:"Drama"}),e("option",{value:"Romance",children:"Romance"}),e("option",{value:"Fantasy",children:"Fantasy"}),e("option",{value:"Horror",children:"Horror"}),e("option",{value:"Sci-fi",children:"Sci-Fi"}),e("option",{value:"Comedy",children:"comedy"})]})]}),e("img",{src:t.img,className:"hero-img",alt:"background pic"}),s("div",{className:"info",children:[e("img",{src:t.imgTitle,alt:""}),s("span",{className:"desc",children:[t.desc.slice(0,200)," "]}),t._id===void 0||d._id===void 0?e("h3",{children:"Loading..."}):e(m,{children:s("div",{className:"buttons",children:[e(f,{to:"/watch",state:{movie:d},children:s("button",{className:"play",children:[e(L,{}),e("span",{className:"play-text",children:"Play"})]})}),e(f,{to:"/info",state:{movie:d},children:s("button",{className:"more",children:[e(O,{}),e("span",{children:"Info"})]})})]})})]})]})};const _=({index:c,item:n})=>{const[t,l]=i.useState({}),p=async()=>{try{const a=await g.get("https://all-anime.netlify.app/api//movies/find/"+n,{headers:{token:"king "+JSON.parse(localStorage.getItem("user")).accessToken}});l(a.data)}catch(a){console.log(a)}};return i.useEffect(()=>{p()},[n]),e("div",{className:"ListItem",children:t?s(m,{children:[t.img?e("img",{src:t.img,alt:"anime"}):e(m,{children:e(N,{})}),s("div",{className:"itemInfo",children:[s("div",{className:"icons",children:[e(f,{to:"/watch",state:{movie:t},children:e(L,{className:"icon"})}),e(z,{className:"icon"}),e(F,{className:"icon"}),e(x,{className:"icon"})]}),s("div",{className:"itemInfoDetail",children:[e("span",{children:t.duration}),e("span",{className:"limit",children:t.Agelimit}),e("span",{children:t.year})]}),s("div",{className:"desc",children:[t.desc===void 0?"":t.desc.slice(0,70)+"..."," "]}),s("div",{className:"genre",children:[t.genre," "]})]})]}):e(m,{children:e(N,{})})})};const R=({list:c})=>{const[n,t]=i.useState(0),[l,p]=i.useState(window.innerWidth/230),a=i.useRef(),d=h=>{h==="left"&&(a.current.style.transform="translateX(0)"),h==="right"&&(a.current.style.transform="translateX(-50%)")},v=h=>{let o=a.current.getBoundingClientRect().x-50;h==="left"&&n>0&&(t(n-1),n<=3?d("left"):a.current.style.transform=`translateX(${230+o}px)`),h==="right"&&n<10-l&&(t(n+1),n>=4?d("right"):a.current.style.transform=`translateX(${-230+o}px)`)};return e("div",{className:"List",children:c?s(m,{children:[e("span",{className:"listTitle",children:c.title}),s("div",{className:"wrapper",children:[e(M,{className:"arrow Left",onClick:()=>v("left")}),e("div",{className:"container",ref:a,children:c.content.map((h,o)=>h?e(_,{index:o,item:h},o):e(m,{children:e("p",{children:"Loading.."})}))}),e(w,{className:"arrow Right",onClick:()=>v("right")})]})]}):e(m,{children:e(N,{})})})};const j=({animeURL:c})=>{const[n,t]=i.useState(!1);return s("div",{className:"TrailerButton",children:[e(b,{className:"icon",onClick:()=>{t(!0)}}),n&&e(m,{children:s("div",{className:"video-responsive",children:[e(I,{onClick:()=>{t(!1)},className:"close-icon"}),e("iframe",{width:"360",height:"360",src:c,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})]})})]})},B=({animeData:c})=>{i.useState(6);const[n,t]=i.useState(-1),[l,p]=i.useState(5);return i.useEffect(()=>{},[l]),s(m,{children:[s("div",{className:"anime-title",children:[s("b",{children:["Anime this season ",new Date().getFullYear()]})," "]}),e("div",{className:"News",children:c?c.map((a,d,v=!1)=>{if(n<d&&d<=l)return s("div",{className:"container",children:[e("div",{className:"genre",children:a.genres[0].name}),e("div",{className:"bottom-title",children:a.title.slice(0,15)}),s("div",{className:"top-icons",children:[s("div",{className:"top-info",children:[e(T,{className:"people-icon"}),e("p",{className:"top-text",children:a.members})]}),s("div",{className:"top-info",children:[e(H,{className:"tv-icon"}),e("p",{className:"top-text",children:a.studios.length>=1?a.studios[0].name:"unknown"})]}),s("div",{className:"top-info",children:[e(C,{className:"season-icon"}),e("p",{className:"top-text",children:a.season?a.season:"unknown"})]})]}),e("div",{className:"play-icon",children:e(j,{animeURL:a.trailer.embed_url?a.trailer.embed_url:"https://www.youtube.com/embed/GU6ncikl11Y?list=PLyMr20OvWEVXMMjUjPgC5XYnFR_nl8G8X"})}),e("div",{className:"container__card",children:e("img",{src:a.images.jpg.image_url,className:"anime-poster",alt:"anime-poster"})})]},d)}):"No Anime for this season"}),n>-1?e("button",{className:"btn-move",onClick:()=>{p(n),t(n-6)},children:e(y,{})}):e("button",{disabled:!0,className:"btn-move",children:e(y,{})}),l<c.length?e("button",{className:"btn-move",onClick:()=>{t(l),p(l+6)},children:e(w,{})}):e("button",{className:"btn-move",disabled:!0,children:e(w,{})})]})};const P=({animeData:c})=>{const n=Math.floor(Math.random()*(c.length-4-0+1)+0);return s(m,{children:[e("div",{className:"card-header",children:"Anime you may like"}),e("div",{className:"Animated-card",children:e("div",{className:"anime-card",children:c?c.slice(n,n+3).map((t,l)=>e("div",{className:"cardBox",children:s("div",{className:"card",children:[e("img",{src:t.images.jpg.image_url,alt:"card",className:"card-img"}),s("div",{className:"content",children:[s("h3",{className:"h3",children:["#",t.popularity]}),e("p",{className:"p",children:t.synopsis})]})]})},l)):"no data"})})]})},$=({type:c})=>{const[n,t]=i.useState([]),[l,p]=i.useState([]),[a,d]=i.useState(""),v=async o=>{try{const k=await(await fetch(o)).json();t(k.data)}catch(r){console.log(r)}},h=async()=>{try{const o=await g.get(`https://all-anime.netlify.app/api/lists${c?"?type="+c:""}${a?"&genre="+a:""}`,{headers:{token:"king "+JSON.parse(localStorage.getItem("user")).accessToken}});p(o.data),v("https://api.jikan.moe/v4/seasons/upcoming?page=1")}catch(o){console.log(o)}};return i.useEffect(()=>{h()},[c,a]),e("div",{className:"Home",children:n&&l?s(m,{children:[e(A,{}),e(V,{type:c,setGenre:d}),l.map((o,r)=>e(R,{list:o},r)),e(B,{animeData:n}),e(P,{animeData:n}),e(S,{})]}):e(m,{children:e(N,{})})})};export{$ as default};
